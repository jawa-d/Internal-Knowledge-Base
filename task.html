<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>ุฅุฏุงุฑุฉ ุงูุชุงุณูุงุช | Task Management</title>

  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="global.css">
  <link rel="stylesheet" href="task.css">
  <link rel="stylesheet" href="sidebar.css">

</head>

<body>

  <!-- Sidebar -->
  <div id="sidebar"></div>
  <script src="sidebar.js"></script>

  <!-- ===== ุฑุณุงูุฉ ุนุฏู ุงูุชุฎููู ===== -->
  <div id="unauthorizedBox" class="unauthorized-box">
    <h2>๐ซ ุบูุฑ ูุฎููู ููุฏุฎูู</h2>
    <p>
      ุฃูุช ุบูุฑ ูุฎููู ูููุตูู ุฅูู ูุฐู ุงูุตูุญุฉ<br>
      ูุฑุฌู ุงูุชูุงุตู ูุน ูุฏูุฑ ุงููุธุงู
    </p>
  </div>

  <!-- ===== ูุญุชูู ุงูุตูุญุฉ (Admin ููุท) ===== -->
  <main id="taskPageContent" class="task-page">

    <!-- Navbar -->
    <div class="top-nav">
      <div class="nav-left">
        <h1>Task Management</h1>
        <p class="nav-sub">ุฅูุดุงุก ููุชุงุจุนุฉ ุฃุฏุงุก ุงูููุธููู</p>
      </div>

      <div class="nav-center">
        <h2 class="kb-title">Employee Performance</h2>
      </div>

      <div class="nav-right">
        <div class="task-actions">
          <button id="openCreateBtn" class="btn-primary">โ ุฅูุดุงุก ุชุงุณู</button>
          <button id="openReportBtn" class="btn-ghost">๐ ุชูุฑูุฑ</button>
        </div>
      </div>
    </div>

    <!-- ===== ููุญุฉ ุงูุชุงุณูุงุช ===== -->
    <section class="board">
      <div class="board-head">
        <h2 class="section-title2">ุงูุชุงุณูุงุช ุงูุญุงููุฉ</h2>
      </div>

      <div class="columns">
        <div class="column">
          <div class="column-header">
            <span class="col-title">In Progress / Failed</span>
            <span class="col-count" id="countInProgress">0</span>
          </div>
          <div id="colInProgress" class="column-body"></div>
        </div>

        <div class="column">
          <div class="column-header">
            <span class="col-title">Done</span>
            <span class="col-count" id="countDone">0</span>
          </div>
          <div id="colDone" class="column-body"></div>
        </div>
      </div>
    </section>
  </main>

  <!-- =========================
       Modal: Create Task
  ========================== -->
  <div id="createOverlay" class="m-overlay">
    <div class="m-box">
      <div class="m-head">
        <div>
          <h2 class="m-title">ุฅูุดุงุก ุชุงุณู ุฌุฏูุฏ</h2>
          <p class="m-sub">ุฃุฏุฎู ุจูุงูุงุช KPI ููููุธู</p>
        </div>
        <button class="m-x" id="createCloseX">โ</button>
      </div>

      <div class="m-body">
        <div class="form-grid">
         a
          <div class="form-group">
            <label>ุงุณู ุงูููุธู</label>
            <input type="text" id="cEmpName" placeholder="ูุซุงู: Jawad">
          </div>

          <div class="form-group">
            <label>Employee ID</label>
            <input type="text" id="cEmpId" placeholder="ูุซุงู: 1001">
          </div>

          <div class="form-group">
            <label>ุงุณู ุงููุคุดุฑ (KPI)</label>
            <input type="text" id="cTaskName" placeholder="ูุซุงู: Tickets Resolved">
          </div>

          <div class="form-group">
            <label>ุงููููุฉ ุงููุณุชูุฏูุฉ</label>
            <input type="number" id="cTargetValue" min="1" placeholder="ูุซุงู: 100">
          </div>

          <div class="form-group">
            <label>ุงููููุฉ ุงูุญุงููุฉ</label>
            <input type="number" id="cCurrentValue" min="0" placeholder="ูุซุงู: 20">
          </div>

          <div class="form-group">
            <label>ุงูููุนุฏ ุงูููุงุฆู</label>
            <input type="datetime-local" id="cDeadline">
          </div>

          <div class="form-group">
            <label>ูุณุจุฉ ุงูุฅูุฌุงุฒ</label>
            <input type="number" id="cProgressValue" readonly>
          </div>
        </div>

        <div class="progress-preview">
          <div class="progress">
            <div id="cProgressFill" class="progress-fill"></div>
          </div>
          <span id="cProgressLabel">0%</span>
        </div>
      </div>

      <div class="m-foot">
        <button id="createCancelBtn" class="btn-ghost">ุฅูุบุงุก</button>
        <button id="createSaveBtn" class="btn-primary">ุฅูุดุงุก ุงูุชุงุณู</button>
      </div>
    </div>
  </div>

  <!-- =========================
       Modal: Update Task
  ========================== -->
  <div id="updateOverlay" class="m-overlay">
    <div class="m-box">
      <div class="m-head">
        <div>
          <h2 class="m-title">ุชุญุฏูุซ / ุชุนุฏูู ุงูุชุงุณู</h2>
          <p class="m-sub">ุชุนุฏูู ุงูููู ุณูุญุฏุซ ุงููุณุจุฉ ูุงูุญุงูุฉ ุชููุงุฆูุงู</p>
        </div>
        <button class="m-x" id="updateCloseX">โ</button>
      </div>

      <div class="m-body">
        <input type="hidden" id="uTaskId">

        <div class="form-grid">
          <div class="form-group">
            <label>ุงุณู ุงูููุธู</label>
            <input type="text" id="uEmpName">
          </div>

          <div class="form-group">
            <label>Employee ID</label>
            <input type="text" id="uEmpId">
          </div>

          <div class="form-group">
            <label>ุงุณู ุงููุคุดุฑ (KPI)</label>
            <input type="text" id="uTaskName">
          </div>

          <div class="form-group">
            <label>ุงููููุฉ ุงููุณุชูุฏูุฉ</label>
            <input type="number" id="uTargetValue" min="1">
          </div>

          <div class="form-group">
            <label>ุงููููุฉ ุงูุญุงููุฉ</label>
            <input type="number" id="uCurrentValue" min="0">
          </div>

          <div class="form-group">
            <label>ุงูููุนุฏ ุงูููุงุฆู</label>
            <input type="datetime-local" id="uDeadline">
          </div>

          <div class="form-group">
            <label>ูุณุจุฉ ุงูุฅูุฌุงุฒ</label>
            <input type="number" id="uProgressValue" readonly>
          </div>
        </div>

        <div class="progress-preview">
          <div class="progress">
            <div id="uProgressFill" class="progress-fill"></div>
          </div>
          <span id="uProgressLabel">0%</span>
        </div>
      </div>

      <div class="m-foot">
        <button id="updateCancelBtn" class="btn-ghost">ุฅูุบุงุก</button>
        <button id="updateSaveBtn" class="btn-primary">ุญูุธ ุงูุชุนุฏูู</button>
      </div>
    </div>
  </div>

  <!-- =========================
       Modal: Confirm Delete
  ========================== -->
  <div id="confirmOverlay" class="m-overlay">
    <div class="m-box m-small">
      <div class="m-head">
        <div>
          <h2 class="m-title">ุชุฃููุฏ ุงูุญุฐู</h2>
          <p class="m-sub">ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ูุฐุง ุงูุชุงุณูุ</p>
        </div>
        <button class="m-x" id="confirmCloseX">โ</button>
      </div>

      <div class="m-body">
        <div class="confirm-info" id="confirmInfo"></div>
        <input type="hidden" id="confirmTaskId">
      </div>

      <div class="m-foot">
        <button id="confirmCancelBtn" class="btn-ghost">ุฅูุบุงุก</button>
        <button id="confirmDeleteBtn" class="btn-danger">ุญุฐู</button>
      </div>
    </div>
  </div>

  <!-- =========================
       Modal: Feedback / Status
  ========================== -->
  <div id="feedbackOverlay" class="fb-overlay">
    <div class="fb-box" id="fbBox">
      <h2 id="fbTitle" class="fb-title"></h2>
      <p id="fbMessage" class="fb-message"></p>

      <div class="fb-details">
        <p>๐ ุงููููุฉ: <strong id="fbTaskName"></strong></p>
        <p>๐ค ุงูููุธู: <strong id="fbEmpName"></strong></p>
        <p>๐ ID: <strong id="fbEmpId"></strong></p>
        <p>๐ ุงูุฅูุฌุงุฒ: <strong id="fbPercent"></strong>%</p>
        <p>โฐ ุงูููุนุฏ: <strong id="fbDeadline"></strong></p>
      </div>

      <button id="fbCloseBtn" class="fb-close-btn">ุฅุบูุงู</button>
    </div>
  </div>

  <!-- =========================
       Modal: Report
  ========================== -->
  <div id="reportOverlay" class="m-overlay">
    <div class="m-box">
      <div class="m-head">
        <div>
          <h2 class="m-title">๐ ุชูุฑูุฑ ุงูููุธู</h2>
          <p class="m-sub">ุงุจุญุซ ุจุงูุงุณู ุฃู ุจุงูู ID ููุญุตูู ุนูู ููุฎุต ุงูุฅูุฌุงุฒ</p>
        </div>
        <button class="m-x" id="reportCloseX">โ</button>
      </div>

      <div class="m-body">
        <div class="report-grid">
          <div class="form-group">
            <label>ุงุณู ุงูููุธู</label>
            <input type="text" id="rEmpName" placeholder="ูุซุงู: Jawad">
          </div>
          <div class="form-group">
            <label>Employee ID</label>
            <input type="text" id="rEmpId" placeholder="ูุซุงู: 1001">
          </div>
          <div class="report-actions">
            <button id="runReportBtn" class="btn-primary">ุนุฑุถ ุงูุชูุฑูุฑ</button>
            <button id="clearReportBtn" class="btn-ghost">ูุณุญ</button>
          </div>
        </div>

        <div id="reportResult" class="report-result">
          <div class="report-empty">ุงุฎุชุฑ ููุธู ูุนุฑุถ ุงูุชูุฑูุฑ</div>
        </div>
      </div>

      <div class="m-foot">
        <button id="reportCloseBtn" class="btn-ghost">ุฅุบูุงู</button>
      </div>
    </div>
  </div>

  <script type="module" src="task.js"></script>
</body>
</html>
