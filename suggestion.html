<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Suggestion</title>

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="global.css">
  <link rel="stylesheet" href="suggestion.css">
  <link rel="stylesheet" href="sidebar.css">
</head>

<body>

<!-- Sidebar -->
<div id="sidebar"></div>
<script src="sidebar.js"></script>

<!-- Page Content -->
<div class="content-area">

  <div class="suggestion-box">

    <!-- Header -->
    <div class="suggestion-header">
      <h1>Suggestion</h1>
      <p>شاركنا أفكارك واقتراحاتك لتحسين النظام أو بيئة العمل</p>
    </div>

    <!-- Form -->
    <input
      id="empName"
      type="text"
      class="form-input"
      placeholder="اسم الموظف"
    >

    <input
      id="empID"
      type="text"
      class="form-input"
      placeholder="المعرف الوظيفي (Employee ID)"
    >

 

    <input
      id="title"
      type="text"
      class="form-input"
      placeholder="عنوان الاقتراح"
    >

    <textarea
      id="details"
      class="form-input"
      rows="5"
      placeholder="تفاصيل الاقتراح"
    ></textarea>

    <button class="send-btn" onclick="sendSuggestion()">
      إرسال الاقتراح
    </button>

  </div>
</div>

<!-- Footer -->
<footer class="footer">
  <p>
    Developed by <strong>Jawad Kadhim</strong>. ALL RIGHTS RESERVED. © 2025
  </p>
</footer>

<!-- Logic -->
<script>
function sendSuggestion() {
  const data = {
    name: document.getElementById("empName").value.trim(),
    id: document.getElementById("empID").value.trim(),
    title: document.getElementById("title").value.trim(),
    details: document.getElementById("details").value.trim(),
  };

  if (!data.name || !data.id || !data.email || !data.title || !data.details) {
    alert("الرجاء ملء جميع الحقول قبل الإرسال.");
    return;
  }

  const API_URL =
    "https://script.google.com/macros/s/AKfycbwWu5vMp4W96bm84OmrWgZwnqGm9i9v_9s35lsQuesu4r1U_hWOlTyea--WTXyX1s1R/exec";

  fetch(API_URL, {
    method: "POST",
    mode: "no-cors",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data),
  })
  .then(() => {
    alert("تم إرسال الاقتراح بنجاح ✅");

    ["empName","empID","email","title","details"].forEach(id => {
      document.getElementById(id).value = "";
    });
  })
  .catch(() => {
    alert("حدث خطأ أثناء الإرسال ❌");
  });
}
</script>

</body>
</html>
