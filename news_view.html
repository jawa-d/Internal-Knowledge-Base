<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>تفاصيل الخبر</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: { cairo: ['Cairo','sans-serif'] },
          boxShadow: {
            glow: '0 0 0 1px rgba(255,255,255,.08), 0 20px 40px rgba(0,0,0,.15)'
          }
        }
      }
    }
  </script>

  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="global.css">
  <link rel="stylesheet" href="sidebar.css">
</head>

<body class="font-cairo bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-900 dark:to-slate-800 transition-colors">

<!-- Sidebar -->
<div id="sidebar"></div>
<script src="sidebar.js"></script>

<!-- Header -->
<div class="ml-[260px] px-10 pt-10">
  <div class="flex items-center justify-between mb-6">
    <div>
      <h1 class="text-3xl font-bold text-slate-800 dark:text-white">
        تفاصيل الخبر
      </h1>
      <p class="text-slate-500 dark:text-slate-400 mt-1">
        عرض محتوى الخبر الكامل
      </p>
    </div>
  </div>
</div>

<!-- Content -->
<div class="ml-[260px] px-10 pb-24">
  <div class="backdrop-blur-xl bg-white/85 dark:bg-slate-800/70
              border border-white/30 dark:border-white/10
              rounded-3xl p-10 shadow">

    <!-- Title -->
    <h2 id="newsTitle"
        class="text-2xl font-bold text-slate-800 dark:text-white mb-2"></h2>

    <!-- Description -->
    <p id="newsDesc"
       class="text-slate-600 dark:text-slate-400 mb-6"></p>

    <hr class="my-6 border-slate-200 dark:border-slate-700">

    <!-- Article Content -->
    <div id="content"
         class="prose max-w-none
                prose-slate dark:prose-invert
                prose-h1:text-2xl
                prose-h2:text-xl
                prose-h3:text-lg
                prose-p:leading-8
                prose-img:rounded-2xl
                prose-a:text-blue-600 dark:prose-a:text-blue-400">
      جاري التحميل...
    </div>

    <!-- Back -->
    <div class="mt-10">
      <button
        onclick="history.back()"
        class="px-6 py-3 rounded-2xl
               bg-gradient-to-r from-blue-500 to-indigo-600
               text-white font-semibold shadow
               hover:shadow-lg hover:-translate-y-0.5 transition">
        ← رجوع
      </button>
    </div>

  </div>
</div>

<!-- ================= Firebase Logic (بدون تغيير) ================= -->
<script type="module">
import { db } from "./firebase.js";
import { doc, getDoc }
from "https://www.gstatic.com/firebasejs/10.7.2/firebase-firestore.js";

const newsId = localStorage.getItem("selectedNewsId");
if (!newsId) location.href = "news.html";

const ref = doc(db, "news", newsId);
const snap = await getDoc(ref);

if (snap.exists()) {
  const d = snap.data();
  newsTitle.textContent = d.title || "";
  newsDesc.textContent  = d.desc || "";
  content.innerHTML     = d.content || "<p>لا يوجد محتوى بعد.</p>";
}
</script>

</body>
</html>
