<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8">
  <title>عرض تفاصيل الكتاب</title>

  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="global.css">

  <style>
    body { background:#eef3f9; font-family:"Cairo"; }

    .view-container {
      margin-left:260px;
      margin-top:100px;
      padding:30px 40px;
      background:white;
      border-radius:18px;
      width:70%;
      box-shadow:0 10px 25px rgba(0,0,0,0.05);
    }

    .book-header {
      margin-bottom: 15px;
      border-bottom: 1px solid #e5e7eb;
      padding-bottom: 10px;
    }

    .book-header h2 {
      font-size: 20px;
      margin-bottom: 6px;
    }

    .book-header p {
      font-size: 14px;
      color: #6b7280;
    }

    .actions {
      margin-top:20px;
      display:flex;
      gap:12px;
    }

    .edit-btn,
    .back-btn {
      padding:10px 18px;
      border-radius:10px;
      border:none;
      cursor:pointer;
      color:white;
      font-size: 14px;
    }

    .edit-btn { background:#ffb300; }
    .back-btn { background:#4b6fff; }
  </style>
</head>

<body>

  <div id="sidebar"></div>
  <script src="sidebar.js"></script>

  <div class="top-nav">
    <div class="nav-left">
      <h1>عرض تفاصيل الكتاب</h1>
    </div>
  </div>

  <div class="view-container">
    <div class="book-header">
      <h2 id="bookTitle">—</h2>
      <p id="bookDesc">—</p>
    </div>

    <div id="content"></div>

    <div class="actions">
      <button class="edit-btn" onclick="edit()">تعديل</button>
      <button class="back-btn" onclick="goBack()">رجوع</button>
    </div>
  </div>

  <script>
    let id = localStorage.getItem("selectedBook");

    // تحميل بيانات الكتاب (العنوان + الوصف)
    const books = JSON.parse(localStorage.getItem("books_list")) || [];
    const current = books[id];

    if (current) {
      document.getElementById("bookTitle").textContent = current.title || "بدون عنوان";
      document.getElementById("bookDesc").textContent = current.desc || "";
    }

    const saved = localStorage.getItem("book_content_" + id);
    document.getElementById("content").innerHTML = saved || "<p>لا يوجد محتوى بعد.</p>";

    function edit() {
      window.location.href = "book_editor.html";
    }

    function goBack() {
      window.location.href = "books.html";
    }
  </script>

</body>
</html>
